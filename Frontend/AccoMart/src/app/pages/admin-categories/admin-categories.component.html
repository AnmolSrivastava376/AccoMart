<div class="w-[100vw] h-fit relative flex flex-col main bg-gray-800">
  <div class="border-b-[1px] bg-[#a3a7a6] sticky top-0 z-[200]">
      <app-navbar></app-navbar>
  </div>
  <div class="w-full h-fit flex col">
      <div class="w-[20%] h-fit relative sidebar overflow-hidden">
         <div class="bg-white fixed unfix">
          <app-sidebar></app-sidebar>
         </div>
      </div>
      <div class="w-[80%] h-fit min-h-[100vh] bg-white box">
          

<div>
  <div class="w-full text-center">

    <div class=" overflow-auto mt-2 ">
      <h2 class="text-2xl font-bold mb-4 mt-8">All Categories</h2>

      <div class="mb-8 text-center">
      <button (click)="openAddPopup()" class="bg-green-500 hover:bg-green-700 text-white font-bold py-1 px-2 rounded"> Add New Category</button>
    </div>
    <div class="mt-4">
      
          <div class="flex-grow p-8">
            
              <div class="grid xl:grid-cols-3  md:grid-cols-2 gap-4 ">
                  <div *ngFor="let category of categories" class="bg-white drop-shadow-sm border rounded-md p-4 flex items-center justify-between">
                      <span class="text-lg">{{ category.categoryName }}</span>
                      <div class="space-x-2 flex flex-row">
                        <button (click)="openEditPopup(category)" class="bg-blue-500 hover:bg-blue-700 text-white font-semibold py-1 px-2 rounded  w-[80px]">
                              Edit
                          </button>
                          <button (click)="deleteCategory(category.categoryId)" class="bg-red-500 hover:bg-red-700 text-white font-semibold py-1 px-2 rounded w-[80px]">
                              Delete
                          </button>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>

<div class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50" *ngIf="isEditPopupOpen">
  <div class="floating-window relative w-5/6 md:w-1/2 lg:w-1/3 xl:w-1/4 bg-white rounded-lg shadow-lg">
    <div class="px-4 py-2 bg-gray-200 rounded-t-lg flex justify-between items-center">
      <div class="font-semibold">Edit Category</div>
      <button class="text-red-500 hover:text-red-700" (click)="closeEditPopup()">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <div class="px-4 py-2">
      <input type="text" placeholder="Enter category name" [(ngModel)]="selectedCategory.categoryName" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500">
    </div>
    <div class="flex justify-center pb-4">
      <button (click)="editCategory(selectedCategory)" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">
        Save
      </button>
    </div>
  </div>
</div>




<div class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50" *ngIf="isAddPopupOpen">
  <div class="floating-window relative w-5/6 md:w-1/2 lg:w-1/3 xl:w-1/4 bg-white rounded-lg shadow-lg">
    <div class="px-4 py-2 bg-gray-200 rounded-t-lg flex justify-between items-center">
      <div class="font-semibold">Add Category</div>
      <button class="text-red-500 hover:text-red-700" (click)="closeAddPopup()">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <div class="px-4 py-2">
      <input type="text" placeholder="Enter category name" [(ngModel)]="categoryToAdd" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500">
    </div>
    <div class="flex justify-center pb-4">
      <button (click)="saveCategory(categoryToAdd)"  class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">
        Save
      </button>
    </div>
  </div>
</div>
</div>

      </div>
  </div>
</div>










